import{q as u,F as c,y as p,P as r,N as h,C as D,T as A,K as j,L as U,M as v,O as L,B as y,a0 as Q,G as m,Q as $,p as be,r as N,e as w,w as J,v as E,x as P,R as K,z as ve,u as S,A as X,E as ye}from"./vue.esm-bundler-DcuF_pQ3.js";import{_ as k,T as Y}from"./McTitle-BRys2FLH.js";import{D as Z,_ as R}from"./McSvgIcon-Cq4_nq1C.js";import{_ as Ve}from"./McAvatar-BA28_YXM.js";import{_ as Se}from"./McTooltip-CnE_6JSP.js";import{_ as ee}from"./McPreview-Dmn3-Ll-.js";import{C as G}from"./Colors-CDVZRUyv.js";import{u as we}from"./useFieldErrors-_2MdWRxY.js";import{T as Oe}from"./useTooltip-C3VtZaBe.js";import{W as z}from"./Weights-CEN83Yli.js";var _=(e=>(e.S="s",e.M="m",e.L="l",e))(_||{}),B=(e=>(e.Label="label",e.Values="values",e))(B||{}),Le=(e=>(e.Top="above",e.Bottom="below",e.Auto="auto",e))(Le||{});function I(e){return e===0?!1:Array.isArray(e)&&e.length===0?!0:!e}function $e(e){return(...l)=>!e(...l)}function ke(e,l){return e===void 0&&(e="undefined"),e===null&&(e="null"),e===!1&&(e="false"),e.toString().toLowerCase().indexOf(l.trim())!==-1}function le(e,l,i,t){return l?e.filter(f=>ke(t(f,i),l)).sort((f,o)=>t(f,i).length-t(o,i).length):e}function Be(e){return e.filter(l=>!l.$isLabel)}function x(e,l){return i=>i.reduce((t,f)=>f[e]&&f[e].length?(t.push({$groupLabel:f[l],$isLabel:!0}),t.concat(f[e])):t,[])}function Te(e,l,i,t,f){return o=>o.map(s=>{if(!s[i])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const b=le(s[i],e,l,f);return b.length?{[t]:s[t],[i]:b}:[]})}const te=(...e)=>l=>e.reduce((i,t)=>t(i),l);var Fe={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(e,l){return I(e)?"":l?e[l]:e}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const e=this.search||"",l=e.toLowerCase().trim();let i=this.options.concat();return this.internalSearch?i=this.groupValues?this.filterAndFlat(i,l,this.label):le(i,l,this.label,this.customLabel):i=this.groupValues?x(this.groupValues,this.groupLabel)(i):i,i=this.hideSelected?i.filter($e(this.isSelected)):i,this.taggable&&l.length&&!this.isExistingOption(l)&&(this.tagPosition==="bottom"?i.push({isTag:!0,label:e}):i.unshift({isTag:!0,label:e})),i.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(e=>e[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(l=>this.customLabel(l,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(e,l,i){return te(Te(l,i,this.groupValues,this.groupLabel,this.customLabel),x(this.groupValues,this.groupLabel))(e)},flatAndStrip(e){return te(x(this.groupValues,this.groupLabel),Be)(e)},updateSearch(e){this.search=e},isExistingOption(e){return this.options?this.optionKeys.indexOf(e)>-1:!1},isSelected(e){const l=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(l)>-1},isOptionDisabled(e){return!!e.$isDisabled},getOptionLabel(e){if(I(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;const l=this.customLabel(e,this.label);return I(l)?"":l},select(e,l){if(e.$isLabel&&this.groupSelect){this.selectGroup(e);return}if(!(this.blockKeys.indexOf(l)!==-1||this.disabled||e.$isDisabled||e.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(l==="Tab"&&!this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e)){l!=="Tab"&&this.removeElement(e);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([e])):this.$emit("update:modelValue",e),this.$emit("select",e,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(e){const l=this.options.find(i=>i[this.groupLabel]===e.$groupLabel);if(l){if(this.wholeGroupSelected(l)){this.$emit("remove",l[this.groupValues],this.id);const i=this.internalValue.filter(t=>l[this.groupValues].indexOf(t)===-1);this.$emit("update:modelValue",i)}else{let i=l[this.groupValues].filter(t=>!(this.isOptionDisabled(t)||this.isSelected(t)));this.max&&i.splice(this.max-this.internalValue.length),this.$emit("select",i,this.id),this.$emit("update:modelValue",this.internalValue.concat(i))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(e){return e[this.groupValues].every(l=>this.isSelected(l)||this.isOptionDisabled(l))},wholeGroupDisabled(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement(e,l=!0){if(this.disabled||e.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const i=typeof e=="object"?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.multiple){const t=this.internalValue.slice(0,i).concat(this.internalValue.slice(i+1));this.$emit("update:modelValue",t)}else this.$emit("update:modelValue",null);this.$emit("remove",e,this.id),this.closeOnSelect&&l&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const e=this.$el.getBoundingClientRect().top,l=window.innerHeight-this.$el.getBoundingClientRect().bottom;l>this.maxHeight||l>e||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(l-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))}}},Ce={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(e,l){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(l)}},groupHighlight(e,l){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":l.$isLabel}];const i=this.options.find(t=>t[this.groupLabel]===l.$groupLabel);return i&&!this.wholeGroupDisabled(i)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(i)}]:"multiselect__option--disabled"},addPointerElement({key:e}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],e),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(e){this.pointer=e,this.pointerDirty=!0}}},ie={name:"vue-multiselect",mixins:[Fe,Ce],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:e=>`and ${e} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}};const De={ref:"tags",class:"multiselect__tags"},Ae={class:"multiselect__tags-wrap"},Ee={class:"multiselect__spinner"},Pe={key:0},Me={class:"multiselect__option"},He={class:"multiselect__option"},Ne=$("No elements found. Consider changing the search query."),Ge={class:"multiselect__option"},Ke=$("List is empty.");function Re(e,l,i,t,f,o){return u(),c("div",{tabindex:e.searchable?-1:i.tabindex,class:[{"multiselect--active":e.isOpen,"multiselect--disabled":i.disabled,"multiselect--above":o.isAbove,"multiselect--has-options-group":o.hasOptionGroup},"multiselect"],onFocus:l[14]||(l[14]=s=>e.activate()),onBlur:l[15]||(l[15]=s=>e.searchable?!1:e.deactivate()),onKeydown:[l[16]||(l[16]=L(h(s=>e.pointerForward(),["self","prevent"]),["down"])),l[17]||(l[17]=L(h(s=>e.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:l[18]||(l[18]=L(h(s=>e.addPointerElement(s),["stop","self"]),["enter","tab"])),onKeyup:l[19]||(l[19]=L(s=>e.deactivate(),["esc"])),role:"combobox","aria-owns":"listbox-"+e.id},[p(e.$slots,"caret",{toggle:e.toggle},()=>[r("div",{onMousedown:l[1]||(l[1]=h(s=>e.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),p(e.$slots,"clear",{search:e.search}),r("div",De,[p(e.$slots,"selection",{search:e.search,remove:e.removeElement,values:o.visibleValues,isOpen:e.isOpen},()=>[D(r("div",Ae,[(u(!0),c(j,null,U(o.visibleValues,(s,b)=>p(e.$slots,"tag",{option:s,search:e.search,remove:e.removeElement},()=>[(u(),c("span",{class:"multiselect__tag",key:b},[r("span",{textContent:v(e.getOptionLabel(s))},null,8,["textContent"]),r("i",{tabindex:"1",onKeypress:L(h(V=>e.removeElement(s),["prevent"]),["enter"]),onMousedown:h(V=>e.removeElement(s),["prevent"]),class:"multiselect__tag-icon"},null,40,["onKeypress","onMousedown"])]))])),256))],512),[[A,o.visibleValues.length>0]]),e.internalValue&&e.internalValue.length>i.limit?p(e.$slots,"limit",{key:0},()=>[r("strong",{class:"multiselect__strong",textContent:v(i.limitText(e.internalValue.length-i.limit))},null,8,["textContent"])]):y("v-if",!0)]),r(Q,{name:"multiselect__loading"},{default:m(()=>[p(e.$slots,"loading",{},()=>[D(r("div",Ee,null,512),[[A,i.loading]])])]),_:3}),e.searchable?(u(),c("input",{key:0,ref:"search",name:i.name,id:e.id,type:"text",autocomplete:"off",spellcheck:!1,placeholder:e.placeholder,style:o.inputStyle,value:e.search,disabled:i.disabled,tabindex:i.tabindex,onInput:l[2]||(l[2]=s=>e.updateSearch(s.target.value)),onFocus:l[3]||(l[3]=h(s=>e.activate(),["prevent"])),onBlur:l[4]||(l[4]=h(s=>e.deactivate(),["prevent"])),onKeyup:l[5]||(l[5]=L(s=>e.deactivate(),["esc"])),onKeydown:[l[6]||(l[6]=L(h(s=>e.pointerForward(),["prevent"]),["down"])),l[7]||(l[7]=L(h(s=>e.pointerBackward(),["prevent"]),["up"])),l[9]||(l[9]=L(h(s=>e.removeLastElement(),["stop"]),["delete"]))],onKeypress:l[8]||(l[8]=L(h(s=>e.addPointerElement(s),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+e.id},null,44,["name","id","placeholder","value","disabled","tabindex","aria-controls"])):y("v-if",!0),o.isSingleLabelVisible?(u(),c("span",{key:1,class:"multiselect__single",onMousedown:l[10]||(l[10]=h((...s)=>e.toggle&&e.toggle(...s),["prevent"]))},[p(e.$slots,"singleLabel",{option:o.singleValue},()=>[$(v(e.currentOptionLabel),1)])],32)):y("v-if",!0),o.isPlaceholderVisible?(u(),c("span",{key:2,class:"multiselect__placeholder",onMousedown:l[11]||(l[11]=h((...s)=>e.toggle&&e.toggle(...s),["prevent"]))},[p(e.$slots,"placeholder",{},()=>[$(v(e.placeholder),1)])],32)):y("v-if",!0)],512),r(Q,{name:"multiselect"},{default:m(()=>[D(r("div",{class:"multiselect__content-wrapper",onFocus:l[12]||(l[12]=(...s)=>e.activate&&e.activate(...s)),tabindex:"-1",onMousedown:l[13]||(l[13]=h(()=>{},["prevent"])),style:{maxHeight:e.optimizedHeight+"px"},ref:"list"},[r("ul",{class:"multiselect__content",style:o.contentStyle,role:"listbox",id:"listbox-"+e.id},[p(e.$slots,"beforeList"),e.multiple&&e.max===e.internalValue.length?(u(),c("li",Pe,[r("span",Me,[p(e.$slots,"maxElements",{},()=>[$("Maximum of "+v(e.max)+" options selected. First remove a selected option to select another.",1)])])])):y("v-if",!0),!e.max||e.internalValue.length<e.max?(u(!0),c(j,{key:1},U(e.filteredOptions,(s,b)=>(u(),c("li",{class:"multiselect__element",key:b,id:e.id+"-"+b,role:s&&(s.$isLabel||s.$isDisabled)?null:"option"},[s&&(s.$isLabel||s.$isDisabled)?y("v-if",!0):(u(),c("span",{key:0,class:[e.optionHighlight(b,s),"multiselect__option"],onClick:h(V=>e.select(s),["stop"]),onMouseenter:h(V=>e.pointerSet(b),["self"]),"data-select":s&&s.isTag?e.tagPlaceholder:o.selectLabelText,"data-selected":o.selectedLabelText,"data-deselect":o.deselectLabelText},[p(e.$slots,"option",{option:s,search:e.search,index:b},()=>[r("span",null,v(e.getOptionLabel(s)),1)])],42,["onClick","onMouseenter","data-select","data-selected","data-deselect"])),s&&(s.$isLabel||s.$isDisabled)?(u(),c("span",{key:1,"data-select":e.groupSelect&&o.selectGroupLabelText,"data-deselect":e.groupSelect&&o.deselectGroupLabelText,class:[e.groupHighlight(b,s),"multiselect__option"],onMouseenter:h(V=>e.groupSelect&&e.pointerSet(b),["self"]),onMousedown:h(V=>e.selectGroup(s),["prevent"])},[p(e.$slots,"option",{option:s,search:e.search,index:b},()=>[r("span",null,v(e.getOptionLabel(s)),1)])],42,["data-select","data-deselect","onMouseenter","onMousedown"])):y("v-if",!0)],8,["id","role"]))),128)):y("v-if",!0),D(r("li",null,[r("span",He,[p(e.$slots,"noResult",{search:e.search},()=>[Ne])])],512),[[A,i.showNoResults&&e.filteredOptions.length===0&&e.search&&!i.loading]]),D(r("li",null,[r("span",Ge,[p(e.$slots,"noOptions",{},()=>[Ke])])],512),[[A,i.showNoOptions&&(e.options.length===0||o.hasOptionGroup===!0&&e.filteredOptions.length===0)&&!e.search&&!i.loading]]),p(e.$slots,"afterList")],12,["id"])],36),[[A,e.isOpen]])]),_:3})],42,["tabindex","aria-owns"])}ie.render=Re;const ze=["dir"],Ie={class:"mc-field-select__header"},xe={class:"mc-field-select__main"},_e={key:1,class:"mc-field-select__single-label"},We={key:0,class:"mc-field-select__prepend"},qe={key:0,class:"mc-field-select__footer"},je={key:1},Ue=be({__name:"McFieldSelect",props:{modelValue:{type:[Array,String,Number]},title:{type:String,default:null},helpText:{type:String,default:null},options:{type:Array,default:()=>[]},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},hideSelected:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},avatar:{type:String,default:null},icon:{type:String,default:null},backgroundColor:{type:String,default:null},placeholder:{type:String,default:""},openDirection:{type:String,default:"auto"},taggable:{type:Boolean,default:!1},showLabels:{type:Boolean,default:!1},internalSearch:{type:Boolean,default:!0},errors:{type:Array,default:null},name:{type:String,required:!0},optionsTooltip:{type:Boolean,default:!1},groupSelect:{type:Boolean,default:!1},required:{type:Boolean,default:!1},optionWithPreview:{type:Boolean,default:!1},tabindex:{type:[String,Number],default:null},maxHeight:{type:String,default:null},renderAbsoluteList:{type:Boolean,default:!1},locale:{type:String,default:null},noResultsText:{type:String,default:"No results"},loading:{type:Boolean,default:!1},dir:{type:String,default:Z.Ltr},titleField:{type:String,default:"name"},valueField:{type:String,default:"value"}},emits:["original-input","tag","search-change","update:modelValue","handle-open","handle-close"],setup(e,{emit:l}){const i=l,t=e,f=we(t.errors),o=N(null),s=N(null),b=N(null),V=N([]),F=w(()=>t.options.some(a=>Object.prototype.hasOwnProperty.call(a,B.Label)&&Object.prototype.hasOwnProperty.call(a,B.Values)&&Array.isArray(a[B.Values]))),se=w(()=>!!t.title),W=w(()=>t.avatar||t.icon),C=w(()=>t.multiple),ae=w(()=>({label:t.titleField,trackBy:t.valueField,loading:t.loading,options:M.value,searchable:t.searchable,showLabels:t.showLabels,multiple:t.multiple,hideSelected:t.hideSelected,allowEmpty:t.allowEmpty,openDirection:t.openDirection,id:t.name,taggable:t.taggable,tagPlaceholder:"",placeholder:t.placeholder,disabled:t.disabled,internalSearch:t.internalSearch,tabindex:+t.tabindex,groupSelect:t.groupSelect&&t.multiple,...F.value?{groupLabel:B.Label}:{},...F.value?{groupValues:B.Values}:{}})),M=w(()=>F.value?t.options:[...t.options,...V.value].filter((a,d,n)=>n.findIndex(O=>O[t.valueField]===a[t.valueField])===d)),ne=w(()=>t.dir===Z.Rtl),re=w(()=>({"mc-field-select":!0,"mc-field-select--error":!!f.errorText.value,"mc-field-select--disabled":t.disabled,[`mc-field-select--bg-${t.backgroundColor}`]:!!t.backgroundColor,"mc-field-select--is-empty-options-list":de.value||t.loading,"mc-field-select--with-preview":t.optionWithPreview,"mc-field-select--max-height":!!t.maxHeight,"mc-field-select--rtl":ne.value})),oe=w(()=>`${t.title}${t.required?" *":""}`),ue=w(()=>{const a=["gray","dark-gray","black"],d=["white"];let n="gray",O=t.backgroundColor,g=t.backgroundColor,T="black";return(!t.backgroundColor||d.includes(t.backgroundColor))&&(O="purple"),a.includes(t.backgroundColor)&&(T="white",n="white",O="black"),t.disabled&&!t.backgroundColor&&(g="hover-gray"),{"--mc-field-select-max-height":t.maxHeight,"--mc-field-select-color":g&&G[g],"--mc-field-select-border-color":O&&G[O],"--mc-field-select-label-color":G[T],"--mc-field-select-placeholder-color":G[n]}}),de=w(()=>{var a;return t.hideSelected&&!o.value||!t.options.length?t.multiple?F.value?!1:Array.isArray(t.modelValue)&&t.options.length===t.modelValue.length:!!t.modelValue&&((a=M.value)==null?void 0:a.length)===1&&!o.value:t.options.length===0?!t.options.length:!1}),H=w({get(){let a=C.value?t.modelValue||[]:[t.modelValue].filter(Boolean);a=a.map(n=>{const g=(F.value?M.value.map(T=>T[B.Values]).flat():M.value).find(T=>String(T[t.valueField])===String(n));return{[t.titleField]:g==null?void 0:g[t.titleField],[t.valueField]:g==null?void 0:g[t.valueField],text:g==null?void 0:g.text,icon:g==null?void 0:g.icon}});const[d]=a;return C.value?a:d},set(a){let d=C.value?Array.isArray(a)?a:[]:[a];d=d.filter(Boolean).map(O=>O[t.valueField]);const[n]=d;fe(a),ce(C.value?d:n)}}),q=()=>{V.value=V.value.filter(a=>{var d;return((d=t.modelValue)==null?void 0:d.constructor)===Array?t.modelValue.map(n=>String(n)).includes(String(a[t.valueField])):String(a[t.valueField])===String(t.modelValue)}),V.value=V.value.filter((a,d,n)=>n.findIndex(O=>String(O[t.valueField])===String(a[t.valueField]))===d)},he=a=>{const d={[t.titleField]:a,[t.valueField]:a};V.value.push(d),H.value=C.value?[...H.value,d]:d,i("tag",a)},pe=a=>{o.value=a,i("search-change",a)},ce=a=>{f.toggleErrorVisible(),i("update:modelValue",a)},fe=a=>{i("original-input",a)},me=()=>{i("handle-open")},ge=()=>{i("handle-close")};return J(()=>t.options,a=>{V.value.push(...a),q()},{immediate:!0}),J(()=>t.modelValue,()=>{q()},{immediate:!0,deep:!0}),(a,d)=>(u(),E("div",{ref_key:"field_select_wrapper_ref",ref:b,dir:e.dir,class:X(re.value),style:ye(ue.value)},[P("div",Ie,[p(a.$slots,"header",{},()=>[se.value?(u(),c(k,{key:0,"max-width":"100%",weight:S(z).Medium},{default:m(()=>[$(v(oe.value),1)]),_:1},8,["weight"])):y("",!0)])]),P("div",xe,[r(S(ie),ve({ref_key:"field_select_ref",ref:s,modelValue:H.value,"onUpdate:modelValue":d[0]||(d[0]=n=>H.value=n)},ae.value,{onTag:he,onSearchChange:pe,onOpen:me,onClose:ge}),K({singleLabel:m(({option:n})=>[t.optionWithPreview?(u(),c(ee,{key:0,class:"option__desc",size:S(_).L},K({top:m(()=>[r(k,{weight:S(z).SemiBold,"html-data":n[t.titleField]},null,8,["weight","html-data"])]),right:m(()=>[p(a.$slots,"arrow")]),_:2},[n.icon?{name:"left",fn:m(()=>[r(R,{name:n.icon,size:"400"},null,8,["name"])]),key:"0"}:void 0,n.text?{name:"bottom",fn:m(()=>[r(k,{color:"gray"},{default:m(()=>[$(v(n.text),1)]),_:2},1024)]),key:"1"}:void 0]),1032,["size"])):(u(),E("div",_e,[W.value?(u(),E("div",We,[e.avatar?(u(),c(Ve,{key:0,src:e.avatar},null,8,["src"])):(u(),c(R,{key:1,name:t.icon},null,8,["name"]))])):y("",!0),P("div",{class:X(["mc-field-select__label-text",W.value?"mc-field-select__label-text--indent-left":""])},v(n?n[t.titleField]:e.placeholder),3)]))]),noResult:m(()=>[p(a.$slots,"noResult",{},()=>[P("span",null,v(t.noResultsText),1)])]),_:2},[e.optionsTooltip||t.optionWithPreview?{name:"option",fn:m(({option:n})=>[t.optionWithPreview?(u(),c(ee,{key:0,class:"option__desc",size:S(_).L},K({top:m(()=>[r(k,{weight:S(z).SemiBold,"html-data":n[t.titleField]},null,8,["weight","html-data"])]),_:2},[n.icon?{name:"left",fn:m(()=>[r(R,{name:n.icon,size:"400"},null,8,["name"])]),key:"0"}:void 0,n.text?{name:"bottom",fn:m(()=>[r(k,{color:"gray"},{default:m(()=>[$(v(n.text),1)]),_:2},1024)]),key:"1"}:void 0]),1032,["size"])):(u(),c(Se,{key:1,class:"mc-field-select__options-tooltip-target","max-width":"m",color:"black",placement:S(Oe).Top,content:n[t.titleField]},{default:m(()=>[P("span",null,v(n[t.titleField]),1)]),_:2},1032,["placement","content"]))]),key:"0"}:void 0]),1040,["modelValue"])]),S(f).errorText.value||t.helpText||a.$slots.footer?(u(),E("div",qe,[S(f).errorText.value?(u(),c(k,{key:0,"tag-name":"div",color:"red",variation:S(Y).Overline,"max-width":"100%"},{default:m(()=>[$(v(S(f).errorText.value),1)]),_:1},8,["variation"])):y("",!0),S(f).errorText.value?(u(),E("br",je)):y("",!0),p(a.$slots,"footer",{},()=>[t.helpText?(u(),c(k,{key:0,"tag-name":"div",variation:S(Y).Overline,color:"gray","max-width":"100%"},{default:m(()=>[$(v(t.helpText),1)]),_:1},8,["variation"])):y("",!0)])])):y("",!0)],14,ze))}});Ue.__docgenInfo={exportName:"default",displayName:"McFieldSelect",description:"",tags:{},props:[{name:"modelValue",description:"Значение",type:{name:"string[] | number[] | string | number | null"}},{name:"title",description:"Заголовок поля:",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"helpText",description:"Вспомогательный текст под инпутом:",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"options",description:`Массив элементов
 выпадающего списка
 [
     {
         name: String,
         value: String | Number,
         text: String - доступен, если optionWithPreview=true
         icon: String - доступен, если optionWithPreview=true
     }
 ]`,type:{name:"ISelectOptions | ISelectGroupOptions"},defaultValue:{func:!0,value:"() => [] as ISelectOptions"}},{name:"searchable",description:`Выполняется ли поиск из списка
 при вводе в инпут`,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"multiple",description:"Множественный выбор",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hideSelected",description:`Скрывать из списка
 выбранные элементы`,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"allowEmpty",description:`Допустимо ли
 пустое значение`,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"disabled",description:"Отключенное состояние",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"avatar",description:`Ссылка на аватар/картинку
 в начале label`,type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"icon",description:`Имя иконки
 в начале label`,type:{name:"String as () => IconsListUnion"},defaultValue:{func:!1,value:"null"}},{name:"backgroundColor",description:"Цвет фона",type:{name:"String as () => ColorTypes"},defaultValue:{func:!1,value:"null"}},{name:"placeholder",description:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"openDirection",description:"Направление открытия списка:\n`above (top), below (bottom), auto`",type:{name:"String as () => SelectListDirectionsUnion"},defaultValue:{func:!1,value:"'auto'"}},{name:"taggable",description:"Селект в режиме тэгирования, когда можно вводить свои значения и добавлять их в опции",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showLabels",description:`Помечать в списке выбранные
 элементы`,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"internalSearch",description:"Поиск по опциям",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"errors",description:"Ошибки",type:{name:"string[]"},defaultValue:{func:!1,value:"null"}},{name:"name",description:"Name",type:{name:"string"},required:!0},{name:"optionsTooltip",description:`Если нужен тултип
 над элементами списка`,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"groupSelect",description:"При группировке опций, дает возвожность выбрать сразу группу",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"optionWithPreview",description:"Если айтемам в селекте нужны превью с иконками и описанием",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"tabindex",type:{name:"string|number"},defaultValue:{func:!1,value:"null"}},{name:"maxHeight",description:"Если нужно ограничить максимальную высоту блока с выбранными элементами",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"renderAbsoluteList",description:"Рендерить ли выпадающий список абсолютно, что бы помещался в ограниченном пространстве",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"locale",description:"Для какого языка селект",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"noResultsText",description:"Текст для пустого селекта, когда неичего не найдено",type:{name:"string"},defaultValue:{func:!1,value:"'No results'"}},{name:"loading",description:"Показывать ли состояние лоадинга",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"dir",type:{name:"String as () => DirectionsUnion"},defaultValue:{func:!1,value:"Directions.Ltr"}},{name:"titleField",description:"На какое после смотреть что бы считать его заголовком строки",type:{name:"string"},defaultValue:{func:!1,value:"'name'"}},{name:"valueField",description:"На какое после смотреть что бы считать его значением строки",type:{name:"string"},defaultValue:{func:!1,value:"'value'"}}],events:[{name:"original-input"},{name:"tag"},{name:"search-change"},{name:"update:modelValue"},{name:"handle-open"},{name:"handle-close"}],slots:[{name:"header",description:"Слот заголовка"},{name:"arrow"},{name:"noResult",description:"Слот для текста, если ничего не найдено"},{name:"footer",description:"Слот доп. текста под инпутом"}],sourceFiles:["/Users/user/Documents/work/mediacube-ui-v2/src/components/elements/McFieldSelect/McFieldSelect.vue"]};export{Le as S,Ue as _};
