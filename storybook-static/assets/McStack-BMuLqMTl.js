import{p as x,I as w,r as u,e as I,o as M,J as N,q as r,v as p,x as V,K as W,L as z,F as D,H as E,M as F,B as R,A,h as L,j as O}from"./vue.esm-bundler-DcuF_pQ3.js";import{S as m}from"./Spaces-DiQ1o4ZA.js";const U={ref:"content",class:"mc-stack__content"},j={key:0,class:"mc-stack__more-label"},q=x({__name:"McStack",props:{visibleCount:{type:Number,default:1/0},collapsed:{type:Boolean,default:!1}},setup(k){var h;const a=k,o=w(),n=u(null),d=(o.default&&((h=o.default()[0].children)!=null&&h.length)?o.default()[0].children:o.default())||[],v=u(d||[]),l=u(0),g=I(()=>({"mc-stack":!0,"mc-stack--collapsed":a.collapsed})),f=()=>{if(!n.value)return;let t=0;const c=[];let i=0;l.value=0;const e=document.createElement("div");e.style.position="absolute",e.style.visibility="hidden",e.style.whiteSpace="nowrap",document.body.appendChild(e);for(const b of d){const S=L(b),s=document.createElement("div");e.appendChild(s);const y=O({render:()=>S});y.mount(s);const C=a.collapsed?s.getBoundingClientRect().width+6:s.getBoundingClientRect().width;y.unmount(),s.remove();const B=+m[300].replace("px",""),_=a.collapsed?-m[200].replace("px",""):+m[150].replace("px","");if(t+(C+_)<=n.value.clientWidth-B&&i<a.visibleCount)t+=C+_,c.push(b),i++;else{l.value=d.length-c.length;break}}document.body.removeChild(e),v.value=c};return M(()=>{const t=new ResizeObserver(f);n.value&&t.observe(n.value),f(),N(()=>{t.disconnect()})}),(t,c)=>(r(),p("div",{ref_key:"container",ref:n,class:A(g.value)},[V("div",U,[(r(!0),p(W,null,z(v.value,(i,e)=>(r(),D(E(i),{key:e}))),128)),l.value>0?(r(),p("span",j,"+"+F(l.value),1)):R("",!0)],512)],2))}});q.__docgenInfo={exportName:"default",displayName:"McStack",description:"",tags:{},props:[{name:"visibleCount",type:{name:"number"},defaultValue:{func:!1,value:"Infinity"}},{name:"collapsed",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/Users/user/Documents/work/mediacube-ui-v2/src/components/elements/McStack/McStack.vue"]};export{q as _};
