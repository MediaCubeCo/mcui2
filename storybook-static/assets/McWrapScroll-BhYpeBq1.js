import{p as L,m as N,r as c,e as i,o as E,D as A,F as W,G as v,A as _,H as X,q as j,x as k,P as x,y as D,z as O,E as U}from"./vue.esm-bundler-DcuF_pQ3.js";import{C as Y,_ as z,a as J}from"./McGridRow-TGd0ufJ2.js";import{S as P}from"./Spaces-DiQ1o4ZA.js";const T=L({__name:"McWrapScroll",props:{wrap:{type:Boolean,default:!1},gutterY:{type:Number,default:0},gutterX:{type:Number,default:0},justify:{type:String,default:Y.Left},scrollable:{type:Boolean,default:!0},gutterBottom:{type:[Number,String],default:null},hasScroll:{type:Boolean,default:!1},withBlur:{type:Boolean,default:!1},moreSpace:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},scrollSpeed:{type:Number,default:1},tagName:{type:String,default:"div"}},emits:["content-scrolled"],setup(w,{emit:g}){const y=g,a=w,r=N({scroll_pos:0,start_client_pos:0,distance:0,is_drag:!1,mouse_is_down:!1}),m=c(!1),f=c(!1),o=c(null),t=c(null),b=i(()=>({wrap:a.wrap,align:J.Top,gutterY:a.gutterY,gutterX:a.gutterX,justify:a.justify})),h=i(()=>({"mc-wrap-scroll":!0,"mc-wrap-scroll--scrollable":a.scrollable,"mc-wrap-scroll--no-scrollbar":!a.hasScroll,"mc-wrap-scroll--more-space":a.moreSpace})),S=i(()=>({"--mc-wrap-scroll-bottom":P[a.gutterBottom]})),B=i(()=>({"mc-wrap-scroll__wrapper--left-blur":a.withBlur&&m.value,"mc-wrap-scroll__wrapper--right-blur":a.withBlur&&f.value,"mc-wrap-scroll__wrapper--more-space":a.moreSpace}));E(()=>{window.addEventListener("mousemove",p),window.addEventListener("mouseup",d),M(),setTimeout(()=>n(),10)}),A(()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",d),t.value&&t.value.removeEventListener("scroll",n),o.value&&o.value.disconnect()});const M=()=>{t.value&&(t.value.addEventListener("scroll",n),a.withBlur&&C())},n=()=>{var l;if(y("content-scrolled"),!!a.withBlur)try{const e=Math.ceil((l=t.value.getBoundingClientRect())==null?void 0:l.width),s=Math.ceil(t.value.scrollWidth),u=Math.ceil(t.value.scrollLeft);m.value=a.rtl?s>e&&s-10>Math.abs(u)+e:!!u,f.value=a.rtl?Math.abs(u)>1:s>e&&s>Math.abs(u)+e}catch{m.value=!1,f.value=!1}},C=()=>{try{o.value=new MutationObserver(n);const l={attributes:!0,childList:!0,subtree:!0};o.value.observe(t.value,l)}catch{console.error("Error when try to create observer in McWrapScroll")}},V=l=>{const e=r;if(e.start_client_pos=l.clientX,e.mouse_is_down=!0,e.scroll_pos=t.value.scrollLeft,window.getSelection){let s=window.getSelection();s==null||s.removeAllRanges()}},p=l=>{const e=r;e.mouse_is_down&&(e.distance=l.clientX-e.start_client_pos,Math.abs(e.distance)>2&&!e.is_drag&&(e.is_drag=!0),e.is_drag&&t.value.scrollTo({left:e.scroll_pos-e.distance*a.scrollSpeed}))},d=()=>{r.is_drag&&(r.is_drag=!1),r.mouse_is_down=!1};return(l,e)=>(j(),W(X(a.tagName),{class:_([B.value,"mc-wrap-scroll__wrapper"])},{default:v(()=>[k("div",{ref_key:"scrollContainer",ref:t,class:_(h.value),style:U(S.value),onMousedown:V},[x(z,O(b.value,{style:{"pointer-events":r.is_drag?"none":"auto"},class:"mc-wrap-scroll__row"}),{default:v(()=>[D(l.$slots,"default")]),_:3},16,["style"])],38)]),_:3},8,["class"]))}});T.__docgenInfo={exportName:"default",displayName:"McWrapScroll",description:"",tags:{},props:[{name:"wrap",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"gutterY",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"gutterX",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"justify",type:{name:"String as () => ColumnJustifyAlignmentUnion"},defaultValue:{func:!1,value:"ColumnJustifyAlignment.Left"}},{name:"scrollable",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"gutterBottom",type:{name:"number|string"},defaultValue:{func:!1,value:"null"}},{name:"hasScroll",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"withBlur",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"moreSpace",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"rtl",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"scrollSpeed",type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"tagName",type:{name:"string"},defaultValue:{func:!1,value:"'div'"}}],events:[{name:"content-scrolled"}],slots:[{name:"default"}],sourceFiles:["/Users/user/Documents/work/mediacube-ui-v2/src/components/patterns/McWrapScroll/McWrapScroll.vue"]};export{T as _};
