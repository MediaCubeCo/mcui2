import{p,r as i,o as v,D as f,w as m,q as g,v as _,x as y}from"./vue.esm-bundler-DcuF_pQ3.js";const h={class:"el-infinity-loading__wrapper"},b=["id"],I=p({__name:"McInfinityLoadingTrigger",props:{overlap:{type:Number,default:100},active:{type:Boolean,default:!1},root:{type:String,default:null}},emits:["loading","hide"],setup(u,{emit:d}){const s=d,e=u,n=i(),a=i(),l=i(`indicator_${Date.now()}`);v(()=>{r()}),f(()=>{c()});const r=()=>{var t;a.value=document.getElementById(l.value),n.value=new IntersectionObserver(([o])=>(o.intersectionRatio===1||o.isIntersecting)&&e.active?s("loading"):s("hide"),{...e.root?{root:(t=a.value)==null?void 0:t.closest(e.root)}:{},rootMargin:`${e.overlap}px`,threshold:.1}),a.value&&n.value.observe(a.value)},c=()=>{n.value&&n.value.disconnect(),n.value=null};return m(()=>e.active,t=>{c(),t&&r()}),(t,o)=>(g(),_("section",h,[y("div",{id:l.value,class:"el-infinity-loading"},null,8,b)]))}});I.__docgenInfo={exportName:"default",displayName:"McInfinityLoadingTrigger",description:"",tags:{},props:[{name:"overlap",description:`За какое расстояние(px) инициировать loading event
*`,type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"active",description:"Активен ли триггер",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"root",description:`Компонент в котором происходит скролл, указывается для большей точности
Дефолтно используется область видимости браузера для отслеживания появления компопнента
*`,type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:[{name:"loading"},{name:"hide"}],sourceFiles:["/Users/user/Documents/work/mediacube-ui-v2/src/components/elements/McInfinityLoadingTrigger/McInfinityLoadingTrigger.vue"]};export{I as _};
