var v=Object.defineProperty;var k=(t,e,o)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var i=(t,e,o)=>k(t,typeof e!="symbol"?e+"":e,o);import{r as h,o as T,D as j}from"./vue.esm-bundler-DcuF_pQ3.js";import{C as m}from"./Colors-CDVZRUyv.js";import{u as x}from"./index-DRQZTcpU.js";var s=(t=>(t.Top="top",t.Left="left",t.Right="right",t.Bottom="bottom",t))(s||{}),b=(t=>(t.Xs="xs",t.S="s",t.M="m",t.L="l",t.XL="xl",t))(b||{});function A(t=0){if(!t)return Date.now();const e=Math.pow(10,t-1),o=Math.pow(10,t)-1;return+(String(Date.now())+String(Math.floor(Math.random()*(o-e+1))+e))}function C(){return{timestamp:A}}function L(t){return t==null?!0:Array.isArray(t)||typeof t=="string"?t.length===0:typeof t=="object"?Object.keys(t).length===0:!1}function w(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null||Array.isArray(t)!==Array.isArray(e))return!1;const o=Object.keys(t),n=Object.keys(e);if(o.length!==n.length)return!1;for(const r of o)if(!w(t[r],e[r]))return!1;return!0}function f(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(f);const e={};for(const o in t)E(t,o)&&(e[o]=f(t[o]));return e}function B(t,e){return t.reduce((o,n)=>(o.some(r=>e(r,n))||o.push(n),o),[])}function g(t,e){for(const o in e)e[o]instanceof Object&&o in t&&Object.assign(e[o],g(t[o],e[o]));return Object.assign(t||{},e),t}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t){return typeof t=="number"}function I(){return{isEmpty:L,isEqual:w,cloneDeep:f,uniqWith:B,deepMerge:g,hasProperty:E,isNumber:O}}const M=x(t=>{t()},150),u=h([]),y=I();class D{constructor(e,o){i(this,"id");i(this,"target");i(this,"content");i(this,"visible",h(!1));i(this,"position",h({top:null,left:null,translate:"translate(0, 0)"}));i(this,"placement");i(this,"size");i(this,"arrow");i(this,"color");i(this,"textColor");i(this,"showTooltip",()=>{var o;this.updateTooltipPosition(),this.visible.value=!0;let e=document.getElementById(String(this.id));if(!e){const n=document.createElement("div");n.classList.add("mc-tooltip"),n.id=String(this.id),n.innerText=this.content||"",n.style.setProperty("--tooltip-color",this.color),n.style.setProperty("--tooltip-text-color",this.textColor),n.setAttribute("tooltip-placement",this.placement),n.setAttribute("tooltip-size",this.size),n.setAttribute("tooltip-arrow",String(this.arrow)),(o=document.getElementById("tooltip-container"))==null||o.appendChild(n)}if(e=document.getElementById(String(this.id)),e){e.style.visibility="visible";for(const n in this.position.value)n&&y.hasProperty(this.position.value,n)&&(e.style[n]=`${this.position.value[n]}px`);e.style.transform=this.position.value.translate}});i(this,"hideTooltip",()=>{this.visible.value=!1;const e=document.getElementById(String(this.id));e&&(e.style.visibility="hidden")});i(this,"updateTooltipPosition",()=>{const{top:e,left:o,width:n,height:r}=this.target.getBoundingClientRect(),l=e+window.scrollY,a=o+window.scrollX,c=4,p=this.arrow?4:0;switch(this.placement){case s.Right:this.position.value={top:l,left:a+n+(c+p),translate:`translate(0, calc(-50% + ${r/2}px))`};break;case s.Left:this.position.value={top:l,left:a-(c+p),translate:`translate(-100%, calc(-50% + ${r/2}px))`};break;case s.Top:this.position.value={top:l-(c+p),left:a+n/2,translate:"translate(-50%, -100%)"};break;case s.Bottom:this.position.value={top:l+r+(c+p),left:a+n/2,translate:"translate(-50%, 0%)"};break}});i(this,"destroy",()=>{this.target.removeEventListener("mouseenter",this.showTooltip),this.target.removeEventListener("mouseleave",this.hideTooltip),u.value=u.value.filter(o=>o.id!==this.id);const e=document.getElementById(String(this.id));e&&e.remove()});this.target=e,this.content=o.content,this.placement=o.placement||s.Top,this.size=o.size||b.M,this.id=C().timestamp(5),this.arrow=y.hasProperty(o,"arrow")?!!o.arrow:!0,this.color=o.color||m.black,this.textColor=o.textColor||m.white,this.target.addEventListener("mouseenter",this.showTooltip),this.target.addEventListener("mouseleave",this.hideTooltip),u.value.push(this)}}const d=M(()=>{u.value.forEach(t=>t.updateTooltipPosition())}),P=()=>{const t=document.createElement("div");t.id="tooltip-container",document.body.appendChild(t)},S=()=>{document.getElementById("tooltip-container")||P()};T(()=>{window.addEventListener("scroll",()=>d),window.addEventListener("resize",()=>d)});j(()=>{window.removeEventListener("scroll",()=>d),window.removeEventListener("resize",()=>d)});function $(){const t=h(null);return{mounted(e,o){S(),o.value.content&&(t.value=new D(e,o.value))},updated(){},beforeUnmount(){var e;(e=t.value)==null||e.destroy()}}}export{s as T,b as a,C as b,I as c,$ as u};
